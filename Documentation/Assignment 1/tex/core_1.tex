\chapter{The Core}
\section{Question 1}

``Following the Responsibility Driven Design, start from your requirements (without considering your implementation) and derive classes, responsibilities, and collaborations (use CRC cards). Describe each step you make. Compare the result with your actual implementation and discuss any difference (e.g., additional and missing classes).'' \\

\noindent As a recap we will start by providing our requirements: 
\begin{itemize}
    \item The game shall have a single level to play.
    \item The game shall show a game over screen when the player dies.
  \item The game shall have a field where the character and monsters can move around.
    \item The player shall have the ability to win the game when they have killed all the monsters.
  \item The player shall lose the game when a monster touches the character.
    \item The player's character must be able to move around horizontally.
    \item The player's character must be able to jump, both straight up and diagonally.
    \item The player's character shall be able to shoot bubbles.
    \item The monsters shall walk around horizontally, and when they hit a wall they will change direction. 
  \item A monster shall be trapped in a bubble when the player shoots a bubble at it.
  \item A monsters shall die when it is caught in a bubble and the character collides with that bubble.
   \item The game shall have a start up screen.
   \item The game shall have multiple levels to play on.
   \item The game shall keep a track of the player's score.
   \item The game shall have the ability to pause.
   \item The game shall have the ability to unpause after the pause button have been pressed.
   \item The game shall have the ability to stop, which closes the game.
   \item The game shall have a help screen that will inform the player about the controls and powerups.
   \item The player shall have the ability to start a new game.
   \item The player shall have multiple lives.
   \item The player shall lose a life, when a monster touches the character. 
   \item The monsters shall be able to drop items when they die.
   \item The player shall have the ability to pick up items which will increase their score.
   \item The powerups shall increase the speed of the bubble, the distance the bubble travels or the walking speed of the character.
\end{itemize}

\noindent Next step is to derive all necessary classes from the requirements. Useful to do this is by selecting every noun in the requirements. 
\begin{itemize}
    \item LevelController
    \item Level
    \item Wall
    \item Character
    \item Sprite
    \item Monster
    \item Input
    \item Bubble
    \item PowerUp
\end{itemize}

\noindent Since we now have all classes present, we can start constructing our CRC cards

\begin{table}[h!]
\centering
\label{crc_levelcontroller}
\begin{tabular}{|l|l|}
\hline
\multicolumn{2}{|l|}{LevelController} \\ \hline
\multicolumn{2}{|l|}{Superclass(es):} \\ \hline
\multicolumn{2}{|l|}{Subclass(es): Level, Player} \\ \hline
createLvl               & Level \\ \hline
createPlayer            & Player \\ \hline
startLvl                & Level \\ \hline
winLvl                  & Level \\ \hline
\end{tabular}
\caption{CRC card: LevelController}
\end{table}

\begin{table}[h!]
\centering
\label{crc_level}
\begin{tabular}{|l|l|}
\hline
\multicolumn{2}{|l|}{Level} \\ \hline
\multicolumn{2}{|l|}{Superclass(es):} \\ \hline
\multicolumn{2}{|l|}{Subclass(es): Wall} \\ \hline
initiateLevel           & Level \\ \hline
initiateWalls           & Wall \\ \hline
initiateSprite          & Sprite \\ \hline
initiateMonsters        & Monster \\ \hline
\end{tabular}
\caption{CRC card: Level}
\end{table}

\begin{table}[h!]
\centering
\label{crc_wall}
\begin{tabular}{|l|l|}
\hline
\multicolumn{2}{|l|}{Wall} \\ \hline
\multicolumn{2}{|l|}{Superclass(es):} \\ \hline
\multicolumn{2}{|l|}{Subclass(es):} \\ \hline
setX           & Integer \\ \hline
setY           & Integer\\ \hline
\end{tabular}
\caption{CRC card: Wall}
\end{table}

\begin{table}[h!]
\centering
\label{crc_sprite}
\begin{tabular}{|l|l|}
\hline
\multicolumn{2}{|l|}{Sprite} \\ \hline
\multicolumn{2}{|l|}{Superclass(es):} \\ \hline
\multicolumn{2}{|l|}{Subclass(es): Character, Monster} \\ \hline
get/setX           & Integer \\ \hline
get/setY           & Integer \\ \hline
get/setR           & Integer \\ \hline
get/setDx          & Integer \\ \hline
get/setDy          & Integer \\ \hline
get/setDr          & Integer \\ \hline
get/setCanMove     & Boolean \\ \hline
get/setImagePath   & String \\ \hline
get/setWidth       & Integer \\ \hline
get/setHeight      & Integer \\ \hline
\end{tabular}
\caption{CRC card: Sprite}
\end{table}

\begin{table}[h!]
\centering
\label{crc_character}
\begin{tabular}{|l|l|}
\hline
\multicolumn{2}{|l|}{Character} \\ \hline
\multicolumn{2}{|l|}{Superclass(es): Sprite} \\ \hline
\multicolumn{2}{|l|}{Subclass(es): Bubble, Input} \\ \hline
moveLeft            & Input \\ \hline
moveRight           & Input \\ \hline
fireWeapon          & Input \\ \hline
die                 & - \\ \hline
isDead              & Boolean \\ \hline
\end{tabular}
\caption{CRC card: Character}
\end{table}

\begin{table}[h!]
\centering
\label{crc_monster}
\begin{tabular}{|l|l|}
\hline
\multicolumn{2}{|l|}{Monster} \\ \hline
\multicolumn{2}{|l|}{Superclass(es): Sprite} \\ \hline
\multicolumn{2}{|l|}{Subclass(es):} \\ \hline
get/setSpeed            & Integer \\ \hline
checkCollision          & -\\ \hline
get/setDirection        & String\\ \hline
isCaught                & Boolean \\ \hline
isDead                  & Boolean \\ \hline
\end{tabular}
\caption{CRC card: Monster}
\end{table}

\begin{table}[h!]
\centering
\label{crc_input}
\begin{tabular}{|l|l|}
\hline
\multicolumn{2}{|l|}{Input} \\ \hline
\multicolumn{2}{|l|}{Superclass(es):} \\ \hline
\multicolumn{2}{|l|}{Subclass(es):} \\ \hline
moveUp          & -\\ \hline
moveDown        & - \\ \hline
moveLeft        & -\\ \hline
moveRight       & -\\ \hline
fireWeapon      & - \\ \hline
\end{tabular}
\caption{CRC card: Input}
\end{table}

\begin{table}[h!]
\centering
\label{crc_bubble}
\begin{tabular}{|l|l|}
\hline
\multicolumn{2}{|l|}{Bubble} \\ \hline
\multicolumn{2}{|l|}{Superclass(es):} \\ \hline
\multicolumn{2}{|l|}{Subclass(es):} \\ \hline
ableToCatch           & - \\ \hline
move           & -\\ \hline
\end{tabular}
\caption{CRC card: Bubble}
\end{table}

\begin{table}[h!]
\centering
\label{crc_powerup}
\begin{tabular}{|l|l|}
\hline
\multicolumn{2}{|l|}{PowerUp} \\ \hline
\multicolumn{2}{|l|}{Superclass(es):} \\ \hline
\multicolumn{2}{|l|}{Subclass(es):} \\ \hline
get/setAbleToPickup           & Boolean \\ \hline
\end{tabular}
\caption{CRC card: PowerUp}
\end{table}

\newpage
When comparing this with our actual implementation we notice a couple things:
\begin{itemize}
\item In our actual implementation, the classes Monster and Sprite have their own superclasses.
\item The class PowerUp hasn\'t been implemented yet. 
\item Some of the classes are named differently, which can make easy explaining of classes harder. 
\item The class Sprite (our called Player in the implementation), has more methods, cause there are multiple variables defined which we didn't think of in the CRC cards. Examples are a counter variable to count the bubbles, an array of all the bubbles a player fired, a variable to check whether the player can jump. 
\end{itemize}